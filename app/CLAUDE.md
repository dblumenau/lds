# Backend Application Documentation

This directory contains the core Laravel application code.

## Directory Structure

### `/Http/Controllers`

#### `GameController.php`
Handles game-related routes:
- `index()` - Displays the games listing page
- `matchingPairs()` - Shows the matching pairs game

#### `WordUploadController.php`
Manages word upload functionality for approved users:
- `index()` - Shows upload form
- `store()` - Processes uploaded word files

#### `ApprovalController.php`
Handles user approval workflow:
- `pending()` - Shows pending approval page for unapproved users

#### `/Auth`
Authentication controllers generated by Laravel Breeze:
- Login, registration, password reset, email verification
- Standard Laravel authentication flow

#### `/Admin/UserApprovalController.php`
Super admin functionality:
- `index()` - Lists users awaiting approval
- `approve()` - Approves a user
- `reject()` - Rejects and deletes a user

### `/Http/Middleware`

#### `EnsureUserIsApproved.php`
Checks if authenticated user has been approved before allowing access to protected routes.

#### `EnsureUserIsSuperAdmin.php`
Restricts access to admin routes to users with super admin privileges.

### `/Http/Requests`
Form request classes for validation:
- `ProfileUpdateRequest.php` - Validates profile update data
- `/Auth/LoginRequest.php` - Handles login validation and throttling

### `/Models`
Eloquent models (see models/README.md for details)

### `/Providers`
- `AppServiceProvider.php` - Service container bindings and bootstrapping

### `/View/Components`
View component classes for Blade components:
- `AppLayout.php` - Authenticated layout component
- `GuestLayout.php` - Guest layout component

## Key Patterns

1. **Authorization**: Controllers use middleware for access control:
   ```php
   Route::middleware(['auth', 'approved'])->group(...)
   ```

2. **Form Requests**: Validation logic is separated into request classes

3. **Route Model Binding**: Controllers receive model instances directly:
   ```php
   public function approve(User $user) { ... }
   ```

4. **Service Pattern**: Complex business logic should be extracted to service classes (not yet implemented)